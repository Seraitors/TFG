<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Guardar</title>
    <!-- Agregar Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!--   Este es el link para poner los iconos en boostrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/caja-boostrap.css">
    


</head>
<body>

<!-- Buscar este codigo que sirve para salir
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle show" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="true">
        <span>user</span> <span class="caret"></span>
    </a>
    <ul class="dropdown-menu show" data-bs-popper="static">

        <li><a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()">
            <i class="fas fa-sign-out-alt"></i> Salir</a>
        </li>
    </ul>
</li>
-->

<header class="p-3 bg-dark text-white fixed-top ">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><img src="/imagen/encabezado/calabera.png" id="foto" alt="Tu imagen" class="w-25 h-60"></li>
                <li><a href="/inicio" class="nav-link px-2 text-secondary">Inicio</a></li>
                <li><a href="/caracteristicas" class="nav-link px-2 text-white">Características</a></li>
                <li><a href="/pagoEnca" class="nav-link px-2 text-white">Precios</a></li>
                <li><a href="/faqs" class="nav-link px-2 text-white">FAQs</a></li>
                <li><a href="/encabezado" class="nav-link px-2 text-white">Acerca</a></li>

                <li sec:authorize="isAuthenticated()" class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false">


                        <!--  mirar por que da error-->
                        <!--  <span th:text="${#authentication.username}">Opciones</span> <span class="caret"></span> -->
                        <!--<span th:text="${#authentication.name}">Opciones</span>-->
                    </a>
                    <ul class="dropdown-menu">
                        <li><span class="dropdown-item" th:text="' App: ' + ${session.numVisitasApp}"></span></li>
                        <li><span class="dropdown-item" th:text="' index: ' + ${session.numVisitasIndex}"></span>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a href="/perfil/new" class="nav-link px-2 text-secondary">Crear perfil</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a href="/perfil/list" class="nav-link px-2 text-secondary">Lista perfiles</a></li>
                    </ul>
                </li>
            </ul>
            <!-- Esto es para que te pueda filtrar estoy llamando al controlador-->

            <div id="toggleSearchForm" class="d-inline-flex align-items-center" style="margin-right: 10px;" >
                <i class="bi bi-search"></i>
                <form id="searchForm" role="search" method="get"
                    action="/figuras/filtrar">
                    <label for="buscarPorNombre" class="form-label" id="Filtro"></label>
                    <input type="text" class="form-control form-control-dark" id="buscarPorNombre"
                        placeholder="Buscar..." name="nombre">
                </form>
            </div>
            <div class="d-inline-flex align-items-center" id="addToCart" style="margin-right: 20px;">
                <i class="bi bi-save"></i>
            </div>



            <div class="text-end"  >
                <a href="/inicioSesion/login" class="btn btn-outline-light me-2">Iniciar sesion</a>
            </div>
            <div class="text-end">


                <a href="/registrar" class="btn btn-warning"> Registrar </a>
                <!--    <form id="logoutForm" th:action="@{/usuario/logout}" method="post">
                <button type="submit" class="btn btn-warning">
                    <i class="fas fa-sign-out-alt"></i> Exit
                </button>
            </form>-->
            </div>
            <!--   Son para que te cuentes los inicios de sesion est atambien puesto arriba
      <div  sec:authorize="hasRole('ROLE_ADMIN')" >

               <span class="dropdown-item" th:text=" ' App: ' + ${session.numVisitasApp}"></span>


               <span class="dropdown-item" th:text=" ' index: ' + ${session.numVisitasIndex}"></span>
       </div> -->
        </div>
    </div>
</header>

<main>
    <div class="container">
        <div class="p-5 mb-4 bg-light rounded-3" >
            <h1 class="display-5 fw-bold">Gestión de figuras</h1>
            <p class="col-md-8 fs-4">Una aplicación de ejemplo de Spring MVC con Thymeleaf.</p>
            <h1 sec:authorize="!isAuthenticated()" class="display-4">Muy buenas, visitante</h1>
            <h1 sec:authorize="isAuthenticated()" class="display-4">Muy buenas, <span sec:authentication="name"></span></h1>

            <p class="text-center">
                <a class="btn btn-lg btn-success" th:href="@{/inicio}">Comenzar</a>
            </p>


        </div>

    </div>



</main>
<!-- Agregar Bootstrap JS y jQuery (opcional, solo si es necesario) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="/js/buscar.js"></script>
<script src="/js/favoritos.js"></script>
</body>
</html>